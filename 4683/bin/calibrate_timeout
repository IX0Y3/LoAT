#!/bin/bash

BENCHMARKS=("chc-LIA-Lin_006.smt2" "chc-LIA-Lin_029.smt2" "chc-LIA-Lin_040.smt2" "chc-LIA-Lin_056.smt2" "chc-LIA-Lin_101.smt2" "chc-LIA-Lin_123.smt2" "chc-LIA-Lin_126.smt2" "chc-LIA-Lin_130.smt2" "chc-LIA-Lin_133.smt2" "chc-LIA-Lin_343.smt2")
START=$(date +%s.%N)
for B in ${BENCHMARKS[@]}; do
    ./loat-static --mode reachability --format horn --proof-level 0 --engine abmc ../examples/2022/$B
done
END=$(date +%s.%N)
DIFF=$(echo "$END - $START" | bc)
EXPECTED=71
RATIO=$(echo "scale=5; $DIFF / $EXPECTED" | bc)
echo $RATIO > ./timeout_scaling_factor
